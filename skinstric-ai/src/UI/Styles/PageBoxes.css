:root {
  --square-size: min(200px, 10vw); /* Further reduced size */
  --top-offset: 0; /* Center vertically */
}

/* Main square block */
.square {
  width: var(--square-size);
  height: var(--square-size);
  border: 1px dotted var(--color-text-secondary);
  pointer-events: none;
  z-index: 5;
  background-color: transparent;
  transform: rotate(45deg);
  transform-origin: center;
  box-sizing: border-box;
  position: relative;
  transition: all 300ms ease;
  box-shadow: inset 0 0 128px 36px rgba(229, 229, 229, 0.822);
}

/* Page navigation elements - common styles */
.square__page-next,
.square__page-back {
  position: absolute;
  top: 50%;
  pointer-events: auto; /* Enable clicking */
  z-index: 10;
  cursor: pointer;
  transform: rotate(0); /* Counter-rotate to make elements straight */
  transition: all 300ms ease;
}

/* Position the next button (right square) slightly to the left */
.square__page-next {
  left: 35%;
}

/* Position the back button (left square) slightly to the right */
.square__page-back {
  right: -35%;
}

/* Diamond-shaped borders */
.square__page-next-border,
.square__page-back-border {
  position: absolute;
  width: calc(34.57px / 1.5);
  height: calc(34.57px / 1.5);
  border: 1px solid var(--color-bg-black, #000);
  background-color: transparent;
  top: 50%;
  left: 50%;
  transform-origin: center;
  transform: translate(-50%, -50%) rotate(45deg);
  z-index: 10;
  transition: all 300ms ease;
}

/* Button elements */
.square__page-next-button,
.square__page-back-button {
  position: relative;
  width: 34.57px;
  height: 34.57px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  z-index: 11;
  transition: all 300ms ease;
}

/* Button icons */
.square__page-next-button__icon,
.square__page-back-button__icon {
  font-size: 34.57px;
  color: var(--color-bg-black, #000);
  display: block;
  transition: all 300ms ease;
}

/* Hover states */
.square__page-next:hover .square__page-next-button__icon,
.square__page-back:hover .square__page-back-button__icon,
.square__page-next:hover .square__page-next-border,
.square__page-back:hover .square__page-back-border {
  border-color: var(--color-bg-hover, #ccc);
  color: var(--color-text-secondary, #666);
}

/* Common label styles */
.square__hover-label {
  font-size: 14px !important;
  color: var(--color-text-primary);
  background: transparent;
  padding: 4px 8px;
  border-radius: 8px;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  white-space: nowrap;
  pointer-events: none;
  z-index: 1;
  transition: opacity 300ms ease;
  opacity: 0;
}

.square__hover-label.visible {
  opacity: 1;
}

/* For the left/back button: label appears to the right, inside the button */
.square__page-back .square__hover-label {
  left: 100%;
  margin-left: 8px;
}

/* For the right/next button: label appears to the left, inside the button */
.square__page-next .square__hover-label {
  right: 100%;
  margin-right: 8px;
  left: auto;
  text-align: right;
}
